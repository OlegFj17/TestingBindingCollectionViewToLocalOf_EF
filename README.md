# TestingBindingCollectionViewToLocalOf_EF
в WPF приложении есть DataGrid, которая привязана к коллекции Local из DbContext(EF CORE). Это по своей сути ObservableCollection<>. 
К ней прикрепил ICollectionView для группирования и сортировки. И теперь получается следующее: если выполнить асинхронно через контекст какой-то запрос к БД, 
который меняет Local (например, FirstOrDefaultAsync() => находит запись и начинает ее отслеживать, запись попадает в Local ), тогда Local меняется НЕ через главный поток
и начинает ICollectionView ругаться..
А если запрос через Dispatcher делать, то он по сути синхронный получается и вешает UI в зависимости от сложности запроса и скорости инета, а если БД недостпуна, 
то UI вообще вешается на 10 секунд и только потом вылезает исключение о недоступности БД.
в Microsoft написано, что Local удобно использовать c WPF и там даже спец метод сделали Local.ToObservableCollection(), но как его правильно использовать непонятно..

Еще я понял, что если совсем не использовать ICollectionView, то ошибка про него всё равно вылезает ("Данный тип CollectionView не поддерживает изменения в своем SourceCollection из потока, отличного от потока Dispatcher.) Вопрос: Внутри DataGrid есть свой ICollectionView? 

Т.е. привзяка к Local предполагает только синхронные запросы к БД через этот контектст?
